<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TXT 파일 변환</title>
    <!-- 공통 스타일과 변환 페이지 전용 스타일을 링크합니다. -->
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/convert.css">
</head>
<body>
    <!-- 헤더: 모든 페이지에서 공통으로 사용 -->
    <header class="app-header">
        <div class="logo">
            <a href="index.html">WEBEQ STUDIO</a>
        </div>
        <nav class="navigation">
            <a href="eq.html" class="nav-btn">EQ</a>
            <a href="convert.html" class="nav-btn active">Transform</a>
        </nav>
    </header>

    <main class="main-content">
        <div class="conversion-container">
            <!-- 왼쪽: 파일 업로드 영역 -->
            <div id="upload-area" class="upload-area">
                <div class="upload-icon">↑</div> <!-- 아이콘은 간단한 문자로 대체 또는 SVG/이미지 사용 가능 -->
                <p>REW 측정 또는 EQ 필터 TXT 파일을<br>여기에 드래그앤드롭 하세요.</p>
                <strong id="upload-text">파일 업로드</strong>
            </div>

            <!-- 오른쪽: 포맷 선택 영역 -->
            <div class="format-selection">
                <h3>변환할 타겟 포맷 선택</h3>
                <ul id="format-list" class="format-list">
                    <li>miniDSP용 TXT 포맷</li>
                    <li>Hypex DSP용 XML 포맷</li>
                    <li>Generic Biquad CSV 포맷</li>
                    <li>커스텀 스크립트 출력</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- === JAVASCRIPT === -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const uploadArea = document.getElementById('upload-area');
            const uploadText = document.getElementById('upload-text');
            const formatList = document.getElementById('format-list');

            // --- 드래그 앤 드롭 시각적 효과 ---
            // 브라우저 기본 동작 방지 (파일 열기)
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                document.body.addEventListener(eventName, e => {
                    e.preventDefault();
                    e.stopPropagation();
                });
            });

            // 드래그 영역에 들어왔을 때
            uploadArea.addEventListener('dragenter', () => {
                uploadArea.classList.add('drag-over');
            });

            // 드래그 영역을 떠났을 때
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('drag-over');
            });

            // 파일이 드롭되었을 때
            uploadArea.addEventListener('drop', (e) => {
                uploadArea.classList.remove('drag-over');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    // 실제 파일 처리 로직은 여기에 추가
                    // 예: 첫 번째 파일 이름 표시
                    uploadText.textContent = `파일: ${files[0].name}`;
                    console.log('Dropped file:', files[0]);
                }
            });

            // --- 포맷 리스트 클릭 효과 ---
            formatList.addEventListener('click', (e) => {
                if (e.target.tagName === 'LI') {
                    // 모든 li에서 active 클래스 제거
                    formatList.querySelectorAll('li').forEach(li => {
                        li.classList.remove('active');
                    });
                    // 클릭된 li에만 active 클래스 추가
                    e.target.classList.add('active');

                    // 선택된 포맷에 대한 로직 추가 가능
                    console.log('Selected format:', e.target.textContent);
                }
            });
        });
    </script>
</body>
</html>